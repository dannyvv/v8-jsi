# Expected variables:
#   RunUnitTests

parameters:
- name: appPlatform
  type: string
- name: outputPath
  type: string

steps:
  - task: PublishBuildArtifacts@1
    displayName: "Publish tools folder"
    inputs:
      artifactName: Tools-${{parameters.appPlatform}}-$(BuildPlatform)-$(BuildFlavor)
      pathtoPublish: /home/vsts/work/_tasks

  - task: AzureArtifacts.manifest-generator-task.manifest-generator-task.ManifestGeneratorTask@0
    displayName: ðŸ“’ Generate Manifest
    inputs:
      BuildDropPath: ${{parameters.outputPath}}
      ManifestDirPath: ${{parameters.outputPath}}/_manifest/${{parameters.appPlatform}}/$(BuildPlatform)/$(BuildFlavor)

  - task: PublishBuildArtifacts@1
    displayName: "Publish artifacts"
    inputs:
      artifactName: V8Jsi
      pathtoPublish: ${{parameters.outputPath}}
